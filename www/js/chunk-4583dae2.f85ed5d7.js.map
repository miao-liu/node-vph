{"version":3,"sources":["webpack:///./src/pages/index/search/index.vue?840d","webpack:///./src/components/index/cartIcon.vue?c7da","webpack:///./src/pages/index/search/index.vue?d9d3","webpack:///src/pages/index/search/index.vue","webpack:///./src/pages/index/search/index.vue?a881","webpack:///./src/pages/index/search/index.vue","webpack:///./src/components/index/cartIcon.vue?2ca4","webpack:///src/components/index/cartIcon.vue","webpack:///./src/components/index/cartIcon.vue?9790","webpack:///./src/components/index/cartIcon.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","goback","directives","name","rawName","value","expression","attrs","currentHot","domProps","$event","target","composing","hotInput","is_show","length","hotClear","_v","recentlyHots","clearRecently","_l","item","key","path","query","type_id","_s","_e","nativeOn","addRecently","staticRenderFns","data","hots","components","cartIcon","methods","getCurrentHot","idx","$store","commit","window","history","go","getRecentlyHots","addEventListener","sessionStorage","getItem","removeItem","setItem","JSON","stringify","created","component"],"mappings":"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","file":"js/chunk-4583dae2.f85ed5d7.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=65f56718&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartIcon.vue?vue&type=style&index=0&id=45943445&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"top flex\"},[_c('span',{staticClass:\"back iconfont icon-arrow-left\",on:{\"click\":_vm.goback}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hotInput),expression:\"hotInput\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.currentHot},domProps:{\"value\":(_vm.hotInput)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.hotInput=$event.target.value},function($event){_vm.is_show='ture'}]}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.is_show&&_vm.hotInput.length),expression:\"is_show&&hotInput.length\"}],staticClass:\"close\",on:{\"click\":_vm.hotClear}},[_vm._v(\"X\")]),_c('span',{staticClass:\"sub\"},[_vm._v(\"搜索\")])]),(_vm.recentlyHots.length)?_c('dl',{staticClass:\"recently\"},[_c('dt',[_vm._v(\"最近搜索 \"),_c('span',{staticClass:\"clearRecently\",on:{\"click\":_vm.clearRecently}},[_vm._v(\"清空\")])]),_vm._l((_vm.recentlyHots),function(item){return _c('dd',{key:item.name},[_c('router-link',{attrs:{\"to\":{path:'results', query:{type_id:item.type_id}}}},[_vm._v(_vm._s(item.name))])],1)})],2):_vm._e(),_c('dl',{staticClass:\"all\"},[_c('dt',[_vm._v(\"热门搜索\")]),_vm._l((_vm.hots),function(item){return _c('dd',{key:item.name},[_c('router-link',{attrs:{\"to\":{path:'results', query:{type_id:item.type_id}}},nativeOn:{\"click\":function($event){return _vm.addRecently(item)}}},[_vm._v(_vm._s(item.name))])],1)})],2),_c('cart-icon')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search\">\n    <div class=\"top flex\">\n      <span class=\"back iconfont icon-arrow-left\" @click=\"goback\"></span>\n      <input type=\"text\" @input=\"is_show='ture'\" :placeholder=\"currentHot\" v-model=\"hotInput\">\n      <span class=\"close\" v-show='is_show&&hotInput.length' @click=\"hotClear\">X</span>\n      <span class=\"sub\">搜索</span>\n    </div>\n    <dl class=\"recently\" v-if=\"recentlyHots.length\">\n      <dt>最近搜索 <span class=\"clearRecently\" @click=\"clearRecently\">清空</span></dt>\n      <dd v-for=\"item of recentlyHots\" :key=\"item.name\">\n        <router-link :to=\"{path:'results', query:{type_id:item.type_id}}\">{{item.name}}</router-link>\n      </dd>\n    </dl>\n    <dl class=\"all\">\n      <dt>热门搜索</dt>\n      <dd v-for=\"item of hots\" :key=\"item.name\">\n        <router-link @click.native = \"addRecently(item)\" :to=\"{path:'results', query:{type_id:item.type_id}}\">{{item.name}}</router-link>\n      </dd>\n    </dl>\n    <cart-icon />\n  </div>\n</template>\n<script>\nimport cartIcon from '@/components/index/cartIcon.vue'\nexport default {\n  name: 'search',\n  data () {\n    return {\n      hots: [],\n      recentlyHots: [],\n      currentHot: '',\n      hotInput: '',\n      is_show: false\n    }\n  },\n  components: {\n    cartIcon\n  },\n  methods: {\n    getCurrentHot (data, idx) {\n      return data[idx].name\n    },\n    hotClear () {\n      this.hotInput = ''\n    },\n    addRecently (item) {\n      this.$store.commit('types/addRecently', item)\n    },\n    clearRecently () {\n      this.recentlyHots = []\n      this.$store.commit('types/clearRecently')\n    },\n    goback () {\n      window.history.go(-1)\n    },\n    getRecentlyHots () {\n      window.addEventListener('load', () => {\n        if (window.sessionStorage.getItem('recentlyHots')) {\n          this.$store.commit('types/setRecentlyHots', JSON.parse(window.sessionStorage.getItem('recentlyHots')))\n          window.sessionStorage.removeItem('recentlyHots')\n        }\n      })\n      window.addEventListener('beforeunload', () => {\n        window.sessionStorage.setItem('recentlyHots', JSON.stringify(this.recentlyHots))\n      })\n    }\n  },\n  created () {\n    this.getRecentlyHots()\n  },\n  async mounted () {\n    await this.$store.dispatch('types/getData')\n    this.hots = this.$store.state.types.hots\n    this.recentlyHots = this.$store.state.recentlyHots\n    this.currentHot = this.hots[this.$route.query.idx].name\n    this.recentlyHots = this.$store.state.types.recentlyHots\n  }\n}\n</script>\n<style scoped>\n  div {\n    height: auto;\n  }\n  .search{\n    padding:0 2%;\n    height: 100%;\n  }\n  dt {\n    font-size: .7rem;\n  }\n  .top {\n    align-items: center;\n    justify-content: space-between;\n    padding: 2% 0;\n    border-bottom: 1px solid #eee;\n    margin-bottom: .5rem;\n  }\n  .top .close {\n    position: absolute;\n    font-family: fantasy, system-ui;\n    left: 75%;\n    font-size: .6rem;\n    width: 1rem;\n    height: 1rem;\n    border-radius: 50%;\n    background: #fff;\n    text-align: center;\n    line-height: 1rem;\n  }\n  .top .back {\n    font-size: 1.5rem;\n    color: #999;\n  }\n  .top input {\n    width: 75%;\n    font-size: .6rem;\n    padding: 0.4rem 0;\n    background: #f3f4f5;\n    border-radius: 1.5rem;\n    text-indent: 1rem;\n    margin-right: 2%;\n  }\n  .top .sub {\n    font-size: .7rem;\n    color: #595c63;\n    margin-right: 1%;\n  }\n  dl{\n    padding: 0 3%;\n  }\n  dt{\n    font-size: .6rem;\n    margin-bottom: .5rem;\n  }\n  dd{\n    font-size: .5rem;\n    background: #f3f4f5;\n    display: inline-block;\n    padding:.3rem .3rem;\n    border-radius: .4rem;\n    margin-right: 1rem;\n    margin-bottom: .4rem;\n  }\n  .recently{\n    border-bottom: 1px solid #eee;\n    margin-bottom: 1rem;\n    padding-bottom: .7rem;\n  }\n  .clearRecently{\n    float: right;\n    font-size: .5;\n    color: #585c64;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=65f56718&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=65f56718&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65f56718\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-icon\"},[_c('router-link',{attrs:{\"to\":\"cart\"}},[_c('span',{staticClass:\"iconfont icon-cart\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"cart-icon\">\n        <router-link to=\"cart\">\n            <span class=\"iconfont icon-cart\"></span>\n        </router-link>\n    </div>\n</template>\n<script>\nexport default {\n}\n</script>\n<style scoped>\n.cart-icon{\n    width: 2rem;\n    height: 2rem;\n    color: #fff;\n    background: #252830;\n    border-radius: 50%;\n    text-align: center;\n    line-height: 2rem;\n    font-weight: bold;\n    position: fixed;\n    bottom: 1rem;\n    left: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cartIcon.vue?vue&type=template&id=45943445&scoped=true&\"\nimport script from \"./cartIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./cartIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cartIcon.vue?vue&type=style&index=0&id=45943445&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45943445\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}