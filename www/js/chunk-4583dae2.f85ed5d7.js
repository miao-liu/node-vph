(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4583dae2"],{"123b":function(t,e,n){"use strict";n("a537")},a537:function(t,e,n){},ad21:function(t,e,n){"use strict";n("db7a")},db7a:function(t,e,n){},fc79:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("div",{staticClass:"top flex"},[n("span",{staticClass:"back iconfont icon-arrow-left",on:{click:t.goback}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.hotInput,expression:"hotInput"}],attrs:{type:"text",placeholder:t.currentHot},domProps:{value:t.hotInput},on:{input:[function(e){e.target.composing||(t.hotInput=e.target.value)},function(e){t.is_show="ture"}]}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.is_show&&t.hotInput.length,expression:"is_show&&hotInput.length"}],staticClass:"close",on:{click:t.hotClear}},[t._v("X")]),n("span",{staticClass:"sub"},[t._v("搜索")])]),t.recentlyHots.length?n("dl",{staticClass:"recently"},[n("dt",[t._v("最近搜索 "),n("span",{staticClass:"clearRecently",on:{click:t.clearRecently}},[t._v("清空")])]),t._l(t.recentlyHots,(function(e){return n("dd",{key:e.name},[n("router-link",{attrs:{to:{path:"results",query:{type_id:e.type_id}}}},[t._v(t._s(e.name))])],1)}))],2):t._e(),n("dl",{staticClass:"all"},[n("dt",[t._v("热门搜索")]),t._l(t.hots,(function(e){return n("dd",{key:e.name},[n("router-link",{attrs:{to:{path:"results",query:{type_id:e.type_id}}},nativeOn:{click:function(n){return t.addRecently(e)}}},[t._v(t._s(e.name))])],1)}))],2),n("cart-icon")],1)},o=[],r=n("1da1"),c=(n("96cf"),n("b0c0"),n("e9c4"),n("fc93")),a={name:"search",data:function(){return{hots:[],recentlyHots:[],currentHot:"",hotInput:"",is_show:!1}},components:{cartIcon:c["a"]},methods:{getCurrentHot:function(t,e){return t[e].name},hotClear:function(){this.hotInput=""},addRecently:function(t){this.$store.commit("types/addRecently",t)},clearRecently:function(){this.recentlyHots=[],this.$store.commit("types/clearRecently")},goback:function(){window.history.go(-1)},getRecentlyHots:function(){var t=this;window.addEventListener("load",(function(){window.sessionStorage.getItem("recentlyHots")&&(t.$store.commit("types/setRecentlyHots",JSON.parse(window.sessionStorage.getItem("recentlyHots"))),window.sessionStorage.removeItem("recentlyHots"))})),window.addEventListener("beforeunload",(function(){window.sessionStorage.setItem("recentlyHots",JSON.stringify(t.recentlyHots))}))}},created:function(){this.getRecentlyHots()},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("types/getData");case 2:t.hots=t.$store.state.types.hots,t.recentlyHots=t.$store.state.recentlyHots,t.currentHot=t.hots[t.$route.query.idx].name,t.recentlyHots=t.$store.state.types.recentlyHots;case 6:case"end":return e.stop()}}),e)})))()}},i=a,l=(n("123b"),n("2877")),u=Object(l["a"])(i,s,o,!1,null,"65f56718",null);e["default"]=u.exports},fc93:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-icon"},[n("router-link",{attrs:{to:"cart"}},[n("span",{staticClass:"iconfont icon-cart"})])],1)},o=[],r={},c=r,a=(n("ad21"),n("2877")),i=Object(a["a"])(c,s,o,!1,null,"45943445",null);e["a"]=i.exports}}]);
//# sourceMappingURL=chunk-4583dae2.f85ed5d7.js.map